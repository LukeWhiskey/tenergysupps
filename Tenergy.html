<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="CSS/containerTheme.css">
    <link rel="stylesheet" href="CSS/custQuickNav.css">
    <link rel="stylesheet" href="CSS/dynaBanner.css">
    <link rel="stylesheet" href="CSS/scrollBar.css">
    <link rel="stylesheet" href="CSS/offer.css">
    <script src="JS/backgroundViewPort.js"></script>
    <!-- <script src="JS/searchBarClicked.js"></script>
    <script src="JS/scrollingBanner.js"></script>
    <script src="JS/searchBar.js"></script> -->
    <style>
        .userItemCont {
            padding-right: 12.5px;
            padding-left: 12.5px;
        }
        @media screen and (max-width: 1200px) {
            .userItemCont {
                padding-right: 3vw;
                padding-left: 4vw;
            }
            #basketText {
                padding-right: 3.5vw;
            }
        }
            .userItemCont:hover {
                cursor: pointer;
                background-color: rgb(20, 20, 20);
            }
        .userItemContent {
            display: none;
            height: auto;
            position: absolute;
            margin-top: 50px;
            width: 300px;
            background-color: rgb(20, 20, 20);
        }
        #basketText {
            margin-left: 11px;
        }
        #cookieConsent {
            height: auto;
            bottom: 20px;
            position: fixed;
            background-color: rgba(30, 30, 30, 0.5);
            color: rgb(0, 200, 0);
            border: 2px solid green;
            border-radius: 20px;
            z-index: 3;
            padding-top: 10px;
            padding-bottom: 10px;
        }
        #cookieButCont {
            float: right;
        }
        #terms {
            float: left;
            text-align: center;
            margin-top: 1px;
            padding: 5px;
        }
        .cookieBut {
            float: right;
            background-color: black;
            border: 2px solid rgb(0, 100, 0);
            border-radius: 2px;
            text-align: center;
            padding: 5px;
            padding-left: 10px;
            padding-right: 10px;
        }
            .cookieBut:hover {
                cursor: pointer;
                border: 2px solid rgb(0, 200, 0);
                transition: 0.125s;
                border-radius: 10px;
            }
        #accept {

        }
        #necassary {

        }
        #back1, #back2, #back3 {
            width: 100%;
            position: absolute;
            z-index: 0;
            left: 0px;
        }
    </style>
</head>
<body>
    <div id="back1" style="height: 35px; background-color: green;"></div>
    <div id="back2" style="height: 40px; background-color: rgb(0, 200, 0); top: 115px;"></div>
</body>
<body style="background-color: black;">
    <div class="d-flex align-items-center justify-content-center" id="searchCont">
        <input class="searchBar" id="searchActive" placeholder="Search for a Product...">
        <button id="search"></button>
    </div>
    <cont>
        <div class="dynaTheme" id="theme">
            <div id="staticBan">
                <table class="custNav">
                    <td class="custNavBut"><a href="" class="custNavButHyp">Fast Return</a></td>
                    <td class="custNavBut"><a href="" class="custNavButHyp">Contact Us</a></td>
                    <td class="custNavBut"><a href="" class="custNavButHyp">GB</a></td>
                </table>
            </div>
            <div id="dynaBanNavCont">
                <div id="scrollCont">
                    <div id="banCont"><a href="Tenergy.html" id="banContHref" style="font-family: Tarrget3DItalic-LdKg; color: rgb(0, 200, 0); text-decoration: none;"></a></div>
                    <table class="userCont">
                        <td class="userItemCont" id="account" style="height: 79px;">
                            <a href="/myaccount">
                                <div class="userItem" id="accountImg"></div>
                                <div class="userItemText" id="accountText">Account</div>
                                <div class="userItemContent" id="accountItemText" style="line-height: 25px; left: 0px;">
                                    <div id="stickyAccount" style="height: 100px; width: 100%; margin-bottom: 20px; margin-top: 5px;"></div>
                                    <div id="stickyMember" style="background-color: rgb(30, 30, 30); width: 100%;">
                                        <table>
                                            <a href=""><td class="mem" style="float: left; line-height: 30px; padding: 5px; padding-left: 15px;">Your Orders</td></a>
                                            <a href=""> <td class="mem" style="float: left; line-height: 30px; padding: 5px; padding-left: 15px;">Your Wishlist</td></a>
                                            <a href=""><td class="mem" style="float: left; line-height: 30px; padding: 5px; padding-left: 15px;">Your Referals</td></a>
                                        </table>
                                    </div>
                                </div>
                             </a>
                        </td>
                        <td class="userItemCont" id="basket">
                            <a href="/checkout">
                                <div class="userItem" id="basketImg"></div>
                                <div class="userItemText" id="basketText">Basket (0)</div>
                                <div class="userItemContent" id="basketItemText"></div>
                            </a>
                        </td>
                    </table>
                    <table class="dynaBanNav" id="nav"></table>
               </div>
            </div>
            <div class="offerCont">
                <a href="">
                    <div class="offer">
                        WINTER SALE | SAVE 40% OFF USE CODE
                        <div class="offerCode">SAVE40</div>
                    </div>
                </a>
            </div>
            <div class="backHeadCont">
                <h1 class="unleash">UNLEASH.<br />THE BEAST.</h1>
            </div>
        </div>
        <div style="background-color: rgba(10, 10, 10); height: 100vh;">

        </div>
    </cont>
    <script>
        /*
        function setCookie(cname, cvalue, exdays) {
            const d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60));
            let expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }
        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return false;
        }
        function checkCookie(cname) {
            let cookieName = getCookie(cname);
            if (cookieName == false) {
                crypto.randomBytes(20, (err, num) => {
                    alert("dcdw");
                    setCookie(cname, num, 31);
                    return true;
                });
            }
            return false;
        }
        alert(checkCookie("userID"));
        if (getCookie("userID") == false) {
            checkCookie("anonID");
            $('#accountItemText').append("<a>Login</a>");
            $('#accountItemText').append("<a>Register</a>");
        }
        else {
            $('#accountItemText').append("<a>Signout</a>");
            $('#accountItemText').append("<a>Profile</a>");
            $('#accountItemText').append("<a>Orders</a>");
        }
        */
        $(document).ready(function () {
            $('cont').append("<div id=\"backShad\"></div>");
            $('#backShad').css('z-index', '4');
            $('cont').append('<div id="prevBox" style="letter-spacing: 0.5vw; box-shadow: 10px 10px 20px black; height: 60vh; width: 60%; z-index: 99; background-color: rgba(0, 0, 0, 0.95); top: 20%; left: 20%; position: fixed; border-radius: 15px; border: 0.15vw solid green; font-size: 4vw; text-align: center; padding: 3.5%; line-height: 20vh; font-family: Tarrget3DItalic-LdKg; color: rgb(0, 255, 0);">TenergySupps<br>Coming soon...<div id="preview" style="line-height: 100%; font-size: 1vw; font-family: arial; background-color: rgb(10, 10, 10); padding: 1%; padding-left: 2%; border-radius: 5px; border: 0.15vw solid rgb(0, 150, 0); position: absolute; bottom: 5%; left: calc(50% - 5vw);">Preview</div></div>');
            $('#preview').hover(function () {
                $('#preview').css('cursor', 'pointer');
                $('#preview').css('transition', '0.125s');
                $('#preview').css('border-radius', '10px');
                $('#preview').css('border', '0.15vw solid rgb(0, 255, 0)');
                $('#preview').css('background-color', 'black');
            }, function () {
                $('#preview').css('transition', '0.075s');
                $('#preview').css('transform', 'scale(1)');
                $('#preview').css('border-radius', '5px');
                $('#preview').css('border', '0.15vw solid rgb(0, 150, 0)');
                $('#preview').css('background-color', 'rgb(10, 10, 10)');
            });
            $('#backShad').click(function () {
                $('#backShad').remove('#backShad');
                $('#prevBox').css('transition', '0.5s');
                $('#prevBox').css('transform', 'scale(2)');
                $('#prevBox').css('opacity', '0');
                setTimeout(function () {
                    $('#prevBox').remove('#prevBox');
                }, 500);
            });
            $('#prevBox').click(function () {
                $('#backShad').remove('#backShad');
                $('#prevBox').css('transition', '0.5s');
                $('#prevBox').css('transform', 'scale(2)');
                $('#prevBox').css('opacity', '0');
                setTimeout(function () {
                    $('#prevBox').remove('#prevBox');
                }, 500);
            });
            $('#preview').click(function () {
                $('#backShad').remove('#backShad');
                $('#prevBox').css('transition', '0.5s');
                $('#prevBox').css('transform', 'scale(2)');
                $('#prevBox').css('opacity', '0');
                setTimeout(function () {
                    $('#prevBox').remove('#prevBox');
                }, 500);
            });
            setInterval(function () {
                if (window.innerWidth > 1200) {
                    $('.dynaBanNav').css('display', 'block');
                    $('.offerCont').css('margin-top', document.getElementById("nav").offsetHeight);
                    const cats = ['Fitness', 'Energy', 'Clothing', 'Protein', 'Neutropics'];
                    if ($('.dynaBanNavBut').length < cats.length) {
                        var butContWidth = 0;
                        for (var i = 0; i < cats.length; i++) {
                            $('.dynaBanNav').append("<td class=\"dynaBanNavBut\" id=" + i + "\>" + cats[i] + "</td>");
                            butContWidth += document.getElementById(i).offsetWidth;
                        }
                    }
                    $('.dynaBanNav').css('padding-left', "calc(50% - " + butContWidth/2 + "px)");
                }
                else {
                    $('.dynaBanNavBut').remove('.dynaBanNavBut');
                    $('.offerCont').css('margin-top', '0px');
                    $('.dynaBanNav').css('display', 'none');
                    $('#back2').css('display', 'none');
                }
            });
        });
        if (sessionStorage.getItem("userID") != null) {
            sessionStorage.removeItem("anonID");
            $('#stickyAccount').css('height', '15px');
            $('#stickyAccount').append('<div style=\"padding-left: 15px;\">Hello, Luke<a onclick=\"logout()\" style=\"float: right; padding-right: 10px;\">Log Out</a></div>');
            $(".mem").hover(function () {
                $(this).css('background-color', 'rgb(20, 20, 20)');
            }, function () {
                $(this).css('background-color', 'rgb(30, 30, 30)');
            });
            function logout() {
                sessionStorage.removeItem("userID");
                if (sessionStorage.getItem("anonID") == null) {
                    sessionStorage.setItem("anonID", "djibnwiuu3279832");
                }
                location.reload();
            };
        }
        else if (sessionStorage.getItem("userID") == null) {
            sessionStorage.setItem("anonID", "32883892");
            $('#stickyAccount').append("<td><a href=\"Login.html\" id=\"login\" style=\"color: white; border: 2px solid black; border-radius: 2px; box-shadow: 2px 2px 2px black; background-color: rgb(0, 150, 0); width: calc(100% - 20px); padding: 10px; left: 10px; position: absolute; text-align: center;\">Login</a></td>");
            $('#stickyAccount').append("<td><a href=\"Register.html\" id=\"register\" style=\"color: white; border: 2px solid black; border-radius: 2px; box-shadow: 2px 2px 2px black; background-color: rgb(0, 150, 0); width: calc(100% - 20px); padding: 10px; left: 10px; position: absolute; text-align: center;\">Register</br></a></td>");
            setInterval(function () {
                $('#register').css('margin-top', document.getElementById("login").offsetHeight + 10);
            });
            $(".mem").hover(function () {
                $(this).css('background-color', 'rgb(20, 20, 20)');
            }, function () {
                $(this).css('background-color', 'rgb(30, 30, 30)');
            });
            $("#login").hover(function () {
                $(this).css('background-color', 'rgb(0, 200, 0)');
                $(this).css('transition', '0.1s ease-in-out');
            }, function () {
                $(this).css('background-color', 'rgb(0, 150, 0)');
                $(this).css('transition', '0s');
            });
            $("#register").hover(function () {
                $(this).css('background-color', 'rgb(0, 200, 0)');
                $(this).css('transition', '0.1s ease-in-out');
            }, function () {
                $(this).css('background-color', 'rgb(0, 150, 0)');
                $(this).css('transition', '0s');
            });
        }
    </script>
    <script>
        $(document).ready(function () {
            setInterval(function () {
                $('.userItemContent').css("width", document.getElementById("account").offsetWidth * 2);
                $('.mem').css('width', document.getElementById("accountItemText").offsetWidth);
                if (window.innerWidth < 1200) {
                }
                else {
                }
            });
            $('.dynaBanNavBut').css('max-width', document.body.offsetWidth * 0.6);
            $('#account').hover(function () {
                $('#accountItemText').css('display', 'block');
                $('cont').append("<div id=\"backShad\"></div>");
            }, function () {
                $('#accountItemText').css('display', 'none');
                $('#backShad').remove('#backShad');
            });
            $('#basket').hover(function () {
                $('#basketItemText').css('display', 'block');
                $('cont').append("<div id=\"backShad\"></div>");
            }, function () {
                $('#basketItemText').css('display', 'none');
                $('#backShad').remove('#backShad');
            });
        });
    </script>
    <script>
        // Cookie Container
        $(document).ready(function () {
            $('cont').append("<div id=\"cookieConsent\"></div>");
            $('#cookieConsent').append("<div id=\"cookieButCont\"></div>");
            $('#cookieConsent').append("<div id=\"terms\">You need to accept these for the site to function properly</div>");
            setInterval(function () {
                var buttonContWidth = document.getElementById("cookieButCont").offsetWidth;
                $('#cookieConsent').css('width', document.body.offsetWidth * 0.8);
                $('#cookieConsent').css('margin-left', document.body.offsetWidth * 0.1);
                if (window.innerWidth < 1200) {
                    $('.cookieBut').css('width', buttonContWidth / 4);
                    $('.cookieBut').css('margin-right', buttonContWidth * 0.0625);
                    $('#cookieButCont').css('width', "100%");
                    $('#terms').css('width', document.body.offsetWidth);
                    $('#terms').css('margin-left', 0);
                    $('#terms').css('margin-top', 10);
                }
                else {
                    $('.cookieBut').css('width', "auto");
                    $('.cookieBut').css('margin-right', 40);
                    $('#cookieButCont').css('width', "auto");
                    $('#terms').css('width', document.body.offsetWidth * 0.35);
                    $('#terms').css('margin-left', document.body.offsetWidth * 0.03);
                    $('#terms').css('margin-top', 2);
                }
            });
            $('#cookieButCont').append("<div class=\"cookieBut\" id=\"accept\">Accept Cookies</div>");
            $('#cookieButCont').append("<div class=\"cookieBut\" id=\"necassary\">Necassary Cookies</div>");
            $('#cookieButCont').append("<a target=\"_blank\" href=\"https://www.google.com\"><div class=\"cookieBut\" id=\"accept\">About Cookies</div></a>");
            $('#accept').click(function () {
                $('#cookieConsent').css('bottom', '-20px');
                $('#cookieConsent').css('opacity', '0');
                $('#cookieConsent').css('transition', '0.125s');
                $('cont').remove("<div id=\"cookieConsent\"></div>");
            });
            $('#necassary').click(function () {
                $('#cookieConsent').css('bottom', '-20px');
                $('#cookieConsent').css('opacity', '0');
                $('#cookieConsent').css('transition', '0.125s');
                $('cont').remove("<div id=\"cookieConsent\"></div>");
            });
        });
    </script>
    <script>
        // Defining the positions and dimensions of the searchBar for mobile and desktop
        $(document).ready(function () {
            var basketlen = 0;
            var userHeight = document.getElementById("scrollCont").offsetHeight;
            $('body').css('max-width', 1680);
            $('#banCont').css('height', userHeight);
            $('.userCont').css('height', document.getElementById("banCont").offsetHeight);
            setInterval(function () {
                if (document.body.offsetWidth == 1680) {
                    $('body').css('margin-left', (window.innerWidth - document.body.offsetWidth) * 0.5 - 6);
                }
                else {
                    $('body').css('margin-left', 0);
                }
                $('#search').css('transition', '0s');
                var dimensions = 35;
                var staticHeight = document.getElementById("staticBan").offsetTop + document.getElementById("staticBan").offsetHeight + 20;
                if (window.innerWidth < 1200) {
                    if (window.innerWidth < 600) {
                        $('#searchCont').css('margin-left', window.innerWidth * 0.35);
                        $('.searchBar').css('width', window.innerWidth * 0.1);
                    }
                    else {
                        $('#searchCont').css('margin-left', window.innerWidth * 0.25);
                        $('.searchBar').css('width', window.innerWidth * 0.35);
                    }
                    document.getElementById('banContHref').innerHTML = "TE";
                    document.getElementById('accountText').innerHTML = "";
                    document.getElementById('basketText').innerHTML = basketlen;
                    $('#basketText').css('position', 'absolute');
                    $('#basketText').css('text-align', 'center');
                    $('#basketText').css('width', '50%');
                    $('#basketText').css('margin-top', '8.5px');
                }
                else {
                    $('#searchCont').css('margin-left', document.body.offsetWidth * 0.3625);
                    $('#searchCont').css('padding-left', 0);
                    $('#searchCont').css('padding-right', 0);
                    $('.searchBar').css('width', window.innerWidth * 0.3);
                    $('.searchBar').css('max-width', document.body.offsetWidth * 0.3);
                    $('#search').css('float', 'right');
                    document.getElementById('banContHref').innerHTML = "Tenergy";
                    document.getElementById('accountText').innerHTML = "Account";
                    document.getElementById('basketText').innerHTML = "Basket (" + basketlen + ")";
                    $('#basketText').css('position', 'relative');
                    $('#basketText').css('text-align', 'left');
                    $('#basketText').css('width', 'auto');
                    $('#basketText').css('margin-top', '7.5px');
                }
                $('#searchCont').css('margin-top', staticHeight);
                $('#searchCont').css('height', dimensions);
                $('#search').css('width', dimensions);
                $('#search').css('height', dimensions);
                $('#search').css('transition', '0.1s');
                $('.searchBar').css('height', dimensions);
            });
        });
    </script>
    <script>
        // Defines positioning and colours for elements within the banner, when scrolling past the custQuickNav
        $(document).ready(function () {
            var staticHeight = document.getElementById("staticBan").offsetHeight;
            var tf = 0;
            $('#banContHref').hover(function () {
                $('#banContHref').css("color", 'white');
            }, function () {
                $('#banContHref').css("color", 'rgb(0, 200, 0)');
            });
            window.addEventListener('scroll', () => {
                if (window.pageYOffset < staticHeight) {
                    $('.userCont').css('position', 'absolute');
                    $('#searchCont').css('position', 'absolute');
                    $('#banCont').css('position', 'relative');
                    $('.dynaBanNav').css('position', 'relative');
                }
                else if (window.pageYOffset > staticHeight) {
                    $('.userCont').css('top', window.pageYOffset - 35);
                    $('#searchCont').css('top', window.pageYOffset - 31);
                    $('#banCont').css('top', window.pageYOffset - 35);
                    $('.dynaBanNav').css('top', window.pageYOffset - 35);
                }
            });
            setInterval(function () {
                if (window.pageYOffset < staticHeight) {
                    $('.dynaBanNav').css('background-color', 'rgb(0, 200, 0)');
                    $('.dynaBanNav').css('padding-bottom', 'none');
                    $('.dynaBanNav').css('height', '40px');
                    $('.dynaBanNav').css('top', 0);
                    $('#searchCont').css('top', 4);
                    $('.dynaBanNavBut').css('padding-top', '11px');
                    $('.dynaBanNavBut').css('padding-bottom', '11px');
                    $('.dynaBanNavBut').css('border-bottom', '0px');
                    if (tf == 1) {
                        $('.userCont').css('top', 0);
                        $('#banCont').css('top', 0);
                        $('.dynaBanNavBut').css('background-color', 'transparent');
                        $('.dynaBanNavBut').css('border-bottom', '0px');
                        tf = 0;
                    }
                    $('.dynaBanNavBut').hover(function () {
                        $(this).css('background-color', 'black');
                        $(this).css('color', 'rgb(0, 240, 0)');
                        $(this).css('padding-bottom', '10px solid red');
                    }, function () {
                        $(this).css('background-color', 'transparent');
                        $(this).css('color', 'white');
                        $(this).css('border-bottom', '0px');
                    });
                }
                if (window.pageYOffset > staticHeight) {
                    $('.dynaBanNav').css('background-color', 'rgb(20, 20, 20)');
                    $('.dynaBanNav').css('border-bottom', '2px solid rgb(0, 200, 0)');
                    $('.dynaBanNav').css('height', '50px');
                    $('.dynaBanNavBut').css('background-color', 'rgb(20, 20, 20)');
                    $('.dynaBanNavBut').css('padding-top', '15px');
                    $('.dynaBanNavBut').css('padding-bottom', '15px');
                    if (tf == 0) {
                        $('.dynaBanNavBut').css('border-bottom', '1px solid rgb(0, 200, 0)');
                        tf = 1;
                    }
                    $('.dynaBanNavBut').hover(function () {
                        $(this).css('background-color', 'rgb(20, 20, 20)');
                        $(this).css('border-bottom', '1px solid rgb(240, 240, 240)');
                        $(this).css('color', 'rgb(0, 240, 0)');
                    }, function () {
                        $(this).css('background-color', 'rgb(20, 20, 20)');
                        $(this).css('border-bottom', '1px solid rgb(0, 200, 0)');
                        $(this).css('color', 'white');
                    });
                }
            });
        });
    </script>
    <script>
        // Creates background dimmer for when search bar is clicked
        $(document).ready(function () {
            var backShad = 0;
            var dynaBanNavButHeight = document.getElementById("nav").offsetTop + document.getElementById("nav").offsetHeight;
            $('#dynaBanNavCont').css('height', dynaBanNavButHeight - 2.5);
            function clickIn() {
                $('.searchBar').css('background-color', 'rgb(50, 50, 50)');
                $('.searchBar').css('color', 'rgb(0, 200, 0)');
                $('.searchBar').css('border', '1px solid rgb(0, 200, 0)');
                $('#search').css('border', '1px solid rgb(0, 200, 0)');
                $('cont').append("<div id=\"backShad\"></div>");
                $('#backShad').css('z-index', '2');
                backShad = 1;
            }
            function clickOut() {
                $('.searchBar').css('background-color', 'transparent');
                $('.searchBar').css('color', 'white');
                $('.searchBar').css('border', '1px solid rgb(0, 200, 0)');
                $('#search').css('border', '1px solid rgb(0, 200, 0)');
                $('#backShad').remove('#backShad');
                backShad = 0;
            }
            setInterval(function () {
                $('.searchBar').click(function () {
                    if (backShad == 0) {
                        clickIn();
                    }
                });
                $('#backShad').click(function () {
                    if (backShad == 1) {
                        clickOut();
                    }
                });
            });
        });
    </script>
</body>
</html>